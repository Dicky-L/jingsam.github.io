<!DOCTYPE html>
<html class=" " lang="en" >
<head>
<meta charset="utf-8">

<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="http://your-site.com/2015/08/03/how-to-load-gis-data-in-netlogo.html" rel="canonical">
<meta name='generator' content='Octopress v Jekyll v2.5.3, Octopress v3.0.11 Octopress Ink v1.2.1'>

<link href='/stylesheets/all-d8ae15bffb2868d71fb7d10c6642d2e2.css' media='all' rel='stylesheet' type='text/css'>


</head>
<body>
  <style>use { height: 0; }</style>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" style="display: none">
  <g id="site-search-svg"><path d="M125.7,120l-5.7,5.7c-1.5,1.5-3.5,2.3-5.7,2.3c-2.1,0-4.2-0.8-5.7-2.3L72.4,89.3C65.2,93.6,56.9,96,48,96 C21.5,96,0,74.5,0,48S21.5,0,48,0s48,21.5,48,48c0,8.9-2.4,17.2-6.7,24.4l36.3,36.3C128.8,111.8,128.8,116.9,125.7,120z M48,80 c17.7,0,32-14.3,32-32S65.7,16,48,16c-17.7,0-32,14.3-32,32S30.3,80,48,80z"/></g>
</svg>
  <div class="site"><div class='nav-panel'>
<nav class='mobile-nav' role="navigation">
  <div class='mobile-nav-item mobile-nav-search'><form class='site-search' action="https://google.com/search" method="get">
  <input type="hidden" name="sitesearch" value="your-site.com">
  <input id='site-search-mobile' class="site-search-input" type="text" name="q" results="0" placeholder="Search" accesskey="/">
  <label class='site-search-label' for='site-search-mobile'><svg class='site-search-icon' viewBox="0 0 128 128">
    <use xlink:href="#site-search-svg"></use>
  </svg></label>
</form></div>
  <a class="mobile-nav-item " href="/"/>Posts</a>

  
  
  
  
  <a class="mobile-nav-item " href="/archive/">Archive</a>

  
  
  
  
  <a class="mobile-nav-item " href="/feed/">Subscribe</a>
  
</nav>
</div>
<div class="site-content">
<div class="site-top"><div class="site-top-content">
<header role="banner" class="site-header">
  <h1 class="site-title"><a class="site-title-link" href="/"/>Jingsam's Blog</a></h1>
</header>
<nav class='main-nav' role="navigation">
  <a class="main-nav-item " href="/"/>Posts</a>
  <a class="main-nav-item " href="/archive/">Archive</a>
  <a class="main-nav-item " href="/feed/">Subscribe</a>
  <div class='main-nav-item main-nav-search'><form class='site-search' action="https://google.com/search" method="get">
  <input type="hidden" name="sitesearch" value="your-site.com">
  <input id='site-search-main' class="site-search-input" type="text" name="q" results="0" placeholder="Search" accesskey="/">
  <label class='site-search-label' for='site-search-main'><svg class='site-search-icon' viewBox="0 0 128 128">
    <use xlink:href="#site-search-svg"></use>
  </svg></label>
</form></div>
  <button class="mobile-nav-toggle" href="#" onclick="(function(){ document.querySelector('html').classList.toggle('mobile-nav-active') })()"><span class="mobile-nav-icon"></span><span class="hidden-label">Navigate<span></span></span></button>
</nav>
</div></div>
<div class="site-main">
<div class="main ">
  <div class="main-content">
<article class="entry post   " role="article">
  <header class="entry-header">
    
    <div class='entry-header-content'>
      <h1 class="entry-title">Netlogo读写GIS数据的方法</h1>
      
      
    </div>
  </header>

  <div class="entry-meta"><a class='entry-date' href="/2015/08/03/how-to-load-gis-data-in-netlogo.html"><time class='entry-date' datetime='2015-08-03T00:00:00+08:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>3</span><span class='date-suffix'>rd</span>, <span class='date-year'>2015</span></span></time></a></div>

  <div class="entry-content">
<p>使用NetLogo进行地理过程模拟时，不可避免地要对GIS数据进行读写，本文主要讲栅格数据的读写，矢量数据留待以后再讲。</p>

<p>Netlogo目前只支持ESRI ASCII Grid(后缀通常为.asc或.grd)格式的栅格数据，所以其他格式的数据请先使用ArcGIS里面的“Raster to ASCII”工具进行转换。废话不多说，上代码：</p>

<figure class="code-highlight-figure"><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">extensions [gis]      ;读写GIS数据需要用到gis扩展
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">patches-own [value]
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">;读取
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">to import-data [file]
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">  gis:load-coordinate-system (word projection ".prj")    ;设置坐标系（非必须）
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">  let data gis:load-dataset file
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">  gis:set-world-envelope (gis:envelope-of data)          ;将窗口范围设置为数据框范围
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">  gis:apply-raster data value                            ;将数据读取至patch-own的value变量
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">end
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line">;显示
</div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line">to display-data
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line">  ask patches[
</div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line">    ifelse value = 0
</div></div><div data-line="18" class="code-highlight-row numbered"><div class="code-highlight-line">    [set pcolor yellow]
</div></div><div data-line="19" class="code-highlight-row numbered"><div class="code-highlight-line">    [ifelse value = 1
</div></div><div data-line="20" class="code-highlight-row numbered"><div class="code-highlight-line">      [set pcolor black]
</div></div><div data-line="21" class="code-highlight-row numbered"><div class="code-highlight-line">      [set pcolor white]    ;NoData以及其他值显示为白色
</div></div><div data-line="22" class="code-highlight-row numbered"><div class="code-highlight-line">    ]
</div></div><div data-line="23" class="code-highlight-row numbered"><div class="code-highlight-line">  ]
</div></div><div data-line="24" class="code-highlight-row numbered"><div class="code-highlight-line">end
</div></div><div data-line="25" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="26" class="code-highlight-row numbered"><div class="code-highlight-line">;保存
</div></div><div data-line="27" class="code-highlight-row numbered"><div class="code-highlight-line">to save-data [data file]
</div></div><div data-line="28" class="code-highlight-row numbered"><div class="code-highlight-line">  gis:store-dataset data file
</div></div><div data-line="29" class="code-highlight-row numbered"><div class="code-highlight-line">end</div></div></pre></div></figure>



<div class="entry-social-sharing social-links"><a class="twitter-share-link" href="https://twitter.com/intent/tweet?&text=Netlogo%E8%AF%BB%E5%86%99GIS%E6%95%B0%E6%8D%AE%E7%9A%84%E6%96%B9%E6%B3%95%20%20%20-%20http%3A%2F%2Fyour-site.com%2F2015%2F08%2F03%2Fhow-to-load-gis-data-in-netlogo.html" title="Share on Twitter">Twitter</a><a class="facebook-share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://your-site.com/2015/08/03/how-to-load-gis-data-in-netlogo.html" title="Share on Facebook">Facebook</a><a class="g-plus-share-link" href="https://plus.google.com/share?url=http://your-site.com/2015/08/03/how-to-load-gis-data-in-netlogo.html" title="Share on Google+">Google+</a><a class="email-share-link" href="mailto:?subject=Netlogo%E8%AF%BB%E5%86%99GIS%E6%95%B0%E6%8D%AE%E7%9A%84%E6%96%B9%E6%B3%95&body=Netlogo%E8%AF%BB%E5%86%99GIS%E6%95%B0%E6%8D%AE%E7%9A%84%E6%96%B9%E6%B3%95%20%20-%20http%3A%2F%2Fyour-site.com%2F2015%2F08%2F03%2Fhow-to-load-gis-data-in-netlogo.html" title="Share via email">Email</a></div>

<nav role="pagination" class="post-nav">


<a class="next-post" href="/2015/08/12/simpe-and-usable.html" title="Next Article: 简约至上">
  <div class='next-post-marker'>Next Article <span class='next-post-arrow'>&rarr;</span></div>
  <h6 class='next-post-title'>简约至上</h6>
</a>

</nav>

<div class='entry-comments'></div>
</div>

  <footer class='entry-footer' role='contentinfo'>
    
  </footer>

</article>
</div>
  
</div>
</div>
<div class="site-bottom"><div class="site-bottom-content">
<footer class='site-footer' role="contentinfo">
  <p class='footer-copyright'>Copyright © 2015
  - Powered by <a href='http://octopress.org'>Octopress</a></p>
  
</footer>
</div></div></div>
</div>
  <script async src='/javascripts/all-3b2dc13bdba186cf0e3d8dfeb7a1854a.js'></script>
  
  
</body>
</html>
